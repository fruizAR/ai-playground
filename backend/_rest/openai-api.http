### Variables
@baseUrl = http://localhost:8000
@contentType = application/json

### ===========================================
### ENDPOINTS DE PRUEBA - OpenAI Orchestration API
### ===========================================

### 1. Endpoint raíz - Información de la API
GET {{baseUrl}}/
Accept: application/json

### 2. Status - Verificar estado del servicio
GET {{baseUrl}}/status
Accept: application/json

### 3. Logs - Obtener logs del sistema (últimos 10)
GET {{baseUrl}}/logs?limit=10
Accept: application/json

### 4. Logs - Filtrar por nivel ERROR
GET {{baseUrl}}/logs?limit=20&level=ERROR
Accept: application/json

### ===========================================
### ENDPOINT /ask - PRUEBAS
### ===========================================

### 5. Ask - Solicitud simple SIN streaming
POST {{baseUrl}}/ask
Content-Type: {{contentType}}

{
  "prompt": "¿Qué es FastAPI en una línea?",
  "temperature": 0.7,
  "max_tokens": 100,
  "stream": false
}

### 6. Ask - Solicitud CON streaming (Server-Sent Events)
POST {{baseUrl}}/ask
Content-Type: {{contentType}}

{
  "prompt": "Explica qué es FastAPI y sus ventajas principales",
  "temperature": 0.7,
  "max_tokens": 500,
  "stream": true
}

### 7. Ask - Pregunta técnica sin streaming
POST {{baseUrl}}/ask
Content-Type: {{contentType}}

{
  "prompt": "¿Cuáles son las diferencias entre FastAPI y Flask?",
  "temperature": 0.5,
  "max_tokens": 300,
  "stream": false
}

### 8. Ask - Solicitud creativa con temperatura alta
POST {{baseUrl}}/ask
Content-Type: {{contentType}}

{
  "prompt": "Escribe un poema corto sobre la programación",
  "temperature": 1.2,
  "max_tokens": 200,
  "stream": false
}

### 9. Ask - Solicitud técnica con streaming
POST {{baseUrl}}/ask
Content-Type: {{contentType}}

{
  "prompt": "Explica paso a paso cómo crear una API REST con FastAPI",
  "temperature": 0.6,
  "max_tokens": 800,
  "stream": true
}

### 10. Ask - Generación de código
POST {{baseUrl}}/ask
Content-Type: {{contentType}}

{
  "prompt": "Genera un ejemplo de endpoint FastAPI que devuelva un JSON con usuario y timestamp",
  "temperature": 0.3,
  "max_tokens": 400,
  "stream": false
}

### 11. Ask - Pregunta en español
POST {{baseUrl}}/ask
Content-Type: {{contentType}}

{
  "prompt": "¿Qué es un modelo de lenguaje y cómo funciona?",
  "temperature": 0.7,
  "max_tokens": 500,
  "stream": false
}

### 12. Ask - Streaming largo
POST {{baseUrl}}/ask
Content-Type: {{contentType}}

{
  "prompt": "Escribe una guía completa sobre cómo integrar Angular con una API de FastAPI",
  "temperature": 0.7,
  "max_tokens": 1500,
  "stream": true
}

### ===========================================
### PRUEBAS DE VALIDACIÓN
### ===========================================

### 13. Ask - Prompt vacío (debería fallar)
POST {{baseUrl}}/ask
Content-Type: {{contentType}}

{
  "prompt": "",
  "stream": false
}

### 14. Ask - Sin campo prompt (debería fallar)
POST {{baseUrl}}/ask
Content-Type: {{contentType}}

{
  "temperature": 0.7,
  "stream": false
}

### 15. Ask - Temperatura fuera de rango (debería fallar)
POST {{baseUrl}}/ask
Content-Type: {{contentType}}

{
  "prompt": "Test",
  "temperature": 3.0,
  "stream": false
}

### 16. Ask - Max tokens negativo (debería fallar)
POST {{baseUrl}}/ask
Content-Type: {{contentType}}

{
  "prompt": "Test",
  "max_tokens": -100,
  "stream": false
}
